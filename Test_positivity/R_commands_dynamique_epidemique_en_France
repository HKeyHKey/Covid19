test_data=read.csv('sp-pos-heb-fra-2021-01-14-19h20.csv',sep=';')
positivite=c()
total=c()
for (sem in unique(test_data$week))
{
positivite=append(positivite,sum(test_data$P[test_data$week==sem])/sum(test_data$T[test_data$week==sem])*100)
total=append(total,sum(test_data$T[test_data$week==sem]))
}
y_range=max(pretty(c(0,max(positivite))))
y2_range=max(pretty(c(0,max(total))))
pdf('Dynamique_positivite_France.pdf',width=10,height=8)
plot(total,ty='l',axes=F,xlab='',ylab='',ylim=c(0,y2_range),col='gray')
par(new=T)
plot(positivite,ty='b',axes=F,xlab='Semaine',ylab='% de positivit√© des tests',ylim=c(0,y_range))
axis(1,labels=c(21:53,1),at=c(1:length(positivite)))
axis(2)
axis(4,labels=c(0,y2_range/2,y2_range),at=c(0,y_range/2,y_range))
dev.off()
